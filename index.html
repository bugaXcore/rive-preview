<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rive Preview</title>
  <script type="module">
    import Rive from 'https://cdn.skypack.dev/rive-wasm';

    const canvas = document.createElement('canvas');
    canvas.width = 800;
    canvas.height = 600;
    document.body.appendChild(canvas);

    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.riv';
    input.style.marginTop = '20px';
    document.body.appendChild(input);

    const label = document.createElement('h2');
    label.textContent = 'Upload a .riv file to preview it';
    document.body.insertBefore(label, input);

    input.addEventListener('change', async (event) => {
      const file = event.target.files[0];
      if (!file) return;

      const buffer = await file.arrayBuffer();

      const rive = await Rive.new({
        canvas,
        buffer,
        autoplay: true
      });
    });
  </script>
  <style>
    body {
      margin: 0;
      background-color: #121212;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: sans-serif;
    }
    canvas {
      border: 1px solid #444;
      margin-top: 20px;
    }
  </style>
</head>
<body>
</body>
</html>
